<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-web/performance">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Performance 性能 | zhendongren</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://rzdong.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://rzdong.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://rzdong.github.io/docs/web/performance"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Performance 性能 | zhendongren"><meta data-rh="true" name="description" content="Performance 接口可以获取到当前页面中与性能相关的信息，该类型的对象可以通过调用只读属性 window.performance 读取"><meta data-rh="true" property="og:description" content="Performance 接口可以获取到当前页面中与性能相关的信息，该类型的对象可以通过调用只读属性 window.performance 读取"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://rzdong.github.io/docs/web/performance"><link data-rh="true" rel="alternate" href="https://rzdong.github.io/docs/web/performance" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://rzdong.github.io/docs/web/performance" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="zhendongren RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="zhendongren Atom Feed"><link rel="stylesheet" href="/assets/css/styles.106d2cf8.css">
<link rel="preload" href="/assets/js/runtime~main.b702d34a.js" as="script">
<link rel="preload" href="/assets/js/main.b4920144.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><div class="announcementBar_mb4j" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="content_knG7 announcementBarContent_xLdY">我们正打算翻新文档，请填写<a target="_blank" rel="noopener noreferrer" href="#">这个调查</a></div></div><nav aria-label="主导航" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.jpg" alt="logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.jpg" alt="logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">振东</b></a><a class="navbar__item navbar__link" href="/docs/webpack/init">webpack</a><a class="navbar__item navbar__link" href="/docs/threejs/init">threejs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/web/intro">web</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://github.com/rzdong/rzdong.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub 仓库"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo.jpg" alt="logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.jpg" alt="logo" class="themedImage_ToTc themedImage--dark_i4oU"><b>振东</b></a><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/web/intro">开始</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/web/performance">Web Api</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/web/performance">Performance 性能</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Web Api</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Performance 性能</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>定义</h1><p>Performance 接口可以获取到当前页面中与性能相关的信息，该类型的对象可以通过调用只读属性 <code>window.performance</code> 读取</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="属性">属性<a href="#属性" class="hash-link" aria-label="属性的直接链接" title="属性的直接链接">​</a></h2><table><thead><tr><th align="center">属性</th><th align="center">含义</th></tr></thead><tbody><tr><td align="center">Performance.timing</td><td align="center">PerformanceTiming 对象包含延迟相关的性能信息</td></tr><tr><td align="center">Performance.memory</td><td align="center">MemoryInfo 对象包含基本内存使用情况</td></tr><tr><td align="center">Performance.navigation</td><td align="center">PerformanceNavigation 对象提供了在置顶的时间段里发生的操作相关信息,包括页面是加载还是刷新、发生了多少次重定向</td></tr><tr><td align="center">Performance.timeOrigin</td><td align="center">返回性能测量开始的事件的高精度时间戳</td></tr><tr><td align="center">Performance.eventCounts</td><td align="center">一个EventCounts映射,包含每个事件类型已调度的事件数</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="performancetiming">Performance.timing<a href="#performancetiming" class="hash-link" aria-label="Performance.timing的直接链接" title="Performance.timing的直接链接">​</a></h3><p>只读属性返回一个PerformanceTiming对象。
timing的所有属性都是只读的，而且所有属性都是double类型的时间戳，代表着某一个事件，或者状态的时间节点</p><table><thead><tr><th align="center">属性</th><th align="center">含义</th></tr></thead><tbody><tr><td align="center">PerformanceTiming.navigationStart</td><td align="center">一个无符号double类型数字 表示同一个浏览器上下文中，上一个文档卸载结束的毫秒时间戳。如果没有上一个文档，这个值与PerformanceTiming.fetchStart相同</td></tr><tr><td align="center">PerformanceTiming.unloadEventStart</td><td align="center">当unload事件抛出时，上一个文档开始卸载的毫秒时间戳。如果没有上一个文档，或者上一个文档的重定向来源不同源，则为 0</td></tr><tr><td align="center">PerformanceTiming.unloadEventEnd</td><td align="center">当unload事件处理程序完成时的毫秒时间戳，如果没有上一个文档，或者上一个文档的重定向来源不同源，则为0</td></tr><tr><td align="center">PerformanceTiming.redirectStart</td><td align="center">当第一个HTTP 重定向开始时的时间戳，如果没有重定向，或者重定向中url是不同源的，则为0</td></tr><tr><td align="center">PerformanceTiming.redirectEnd</td><td align="center">当最后一个HTTP 重定向完成时的时间戳，重定向完成意味着最后一个HTTP 响应的字节被接收。如果没有重定向，或者重定向的url是不同源的，则为0</td></tr><tr><td align="center">PerformanceTiming.fetchStart</td><td align="center">当浏览器准备好HTTP请求获取文档内容时的时间戳，这个事件在检查任何应用缓存之前</td></tr><tr><td align="center">PerformanceTiming.domainLookupStart</td><td align="center">表示开始域名查询的时间戳，如果使用了持续连接，或者这个信息被存储到了缓存或者本地，这个值就等于fetchStart，因为 此时不需要查询，可以直接开始请求资源</td></tr><tr><td align="center">PerformanceTiming.domainLookupEnd</td><td align="center">表示域名查询结束的时间戳，如果使用了持续连接，或者这个信息被存储到了缓存或者本地资源，这个值就等于fetchStart</td></tr><tr><td align="center">PerformanceTiming.connectStart</td><td align="center">表示打开一个连接去发送请求的开始时间，如果传输层报告了错误，重新建立了连接，则会给出最后一次连接建立的时间，如果使用了持续连接，那这个数据与fetchStart相同</td></tr><tr><td align="center">PerformanceTiming.connectEnd</td><td align="center">表示浏览器与服务器之间的连接建立（握手与认证过程结束）的时间戳，如果使用了持续连接，则与fetchStart相同</td></tr><tr><td align="center">PerformanceTiming.secureConnectionStart</td><td align="center">表示开始安全连接握手时的时间戳，如果没有请求安全连接，则为0</td></tr><tr><td align="center">PerformanceTiming.requestStart</td><td align="center">当浏览器发送请求想要从服务器或者缓存中获取真实文档时，表示浏览器向服务器发送HTTP请求时的时间戳</td></tr><tr><td align="center">PerformanceTiming.responseStart</td><td align="center">表示浏览器收到，或者从本地缓存中读取第一个字节时的时间戳。如果传输层从开始请求后失败，并且连接被重新打开，这个值会被重置为新的响应时间</td></tr><tr><td align="center">PerformanceTiming.responseEnd</td><td align="center">表示浏览器收到最后一个字节时的时间戳（可能从服务器，本地缓存等地方收到数据），如果HTTP提前关闭，则返回HTTP关闭的时间</td></tr><tr><td align="center">PerformanceTiming.domLoading</td><td align="center">当DOM解析器开始工作，解析DOM时的时间戳，这时，document.readyState改变为‘loading’(一共有三个状态：loading 文档正在加载，interactive dom元素可以访问，图像等数据还在加载，complete 页面所有内容已经被完全加载)，document上的对应的readystatechange事件会被触发 <code>document.addEventListener(&quot;readystatechange&quot;, () =&gt; {})</code></td></tr><tr><td align="center">PerformanceTiming.domInteractive</td><td align="center">表示DOM解析结束的时间戳，开始加载内嵌的图片等资源，此时dom可以被访问，document.readyState改变为‘interactive’, document上的reaydstatechange事件会被触发</td></tr><tr><td align="center">PerformanceTiming.domContentLoadedEventStart</td><td align="center">表示解析器触发了DOMContentLoaded事件，即所有需要被执行的脚本已经被解析时的时间戳</td></tr><tr><td align="center">PerformanceTiming.domContentLoadedEventEnd</td><td align="center">表示所有需要被执行的脚本都已经被执行完的时间戳</td></tr><tr><td align="center">PerformanceTiming.domComplete</td><td align="center">当解析器完成主文档的解析任务时的时间戳，此时document.readyState改变为‘complete’,同时触发document上的readystatechange事件</td></tr><tr><td align="center">PerformanceTiming.loadEventStart</td><td align="center">当load事件被当前文档触发时的时间戳，如果事件没被触发，值为0</td></tr><tr><td align="center">PerformanceTiming.loadEventEnd</td><td align="center">当load事件处理程序完成时的时间戳，如果事件没被触发，或者没完成，则为0</td></tr><tr><td align="center">PerformanceTiming.toJSON()</td><td align="center">把当前timing对象转为一个json对象</td></tr></tbody></table><p>备注：<code>Performance.timing</code> 已经被弃用，目前存在的timing对象尽量不在生产环境使用，后续浏览器可能不会支持，也可能会删除此属性。作为替代，可以使用<code>PerformanceNavigationTiming</code></p><p>可以通过如下方式获取PerformanceNavigationTiming对象</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> entries </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">performance</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getEntriesByType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;navigation&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>timing的应用：</p><p>timing的单个属性单独拎出来一般没有意义，两个属性之间的差值可以代表着不同耗时任务。</p><table><thead><tr><th align="center">时间段</th><th align="center">描述</th><th align="center">意义</th></tr></thead><tbody><tr><td align="center">navigationStart ~ unloadEventEnd</td><td align="center">上一个文档卸载结束（当前文档开始的起点）的毫秒时间戳 ~ 上一个文档的unload事件处理完成时间戳</td><td align="center">上一个页面卸载耗时</td></tr><tr><td align="center">fetchStart ~ domainLookupStart</td><td align="center">浏览器准备好HTTP请求文档内容时的时间戳 ~ 开始域名查询的时间戳</td><td align="center">查询app DNS缓存耗时</td></tr><tr><td align="center">domainLookupStart ~ domainLookupEnd</td><td align="center">开始域名查询 ~ 域名查询结束</td><td align="center">dns查询耗时</td></tr><tr><td align="center">connectStart ~ connectEnd</td><td align="center">打开一个连接 ~ 浏览器与服务器已经建立连接（握手与认证过程结束）</td><td align="center">TCP连接耗时</td></tr><tr><td align="center">connectEnd ~ secureConnectionStart</td><td align="center">针对HTTPS协议的时间间隔；浏览器与服务器已经建立连接 ~ tcp握手后，建立安全连接时间戳。接着就会传输真正内容</td><td align="center">建立安全连接的耗时</td></tr><tr><td align="center">fetchStart ~ responseStart</td><td align="center">浏览器准备好请求时间戳 ~ 浏览器收到第一个字节的返回内容时间戳</td><td align="center">TTFB （time to first byte）,首包时长，即浏览器发出第一个请求到收到第一个字节的耗时，浏览器里一般第一个请求是get document</td></tr><tr><td align="center">responseStart ~ responseEnd</td><td align="center">浏览器收到第一个字节 ~ 浏览器接收数据结束</td><td align="center">服务器内容响应时长</td></tr><tr><td align="center">domLoading ~ domInteractive</td><td align="center">开始解析字符串为Dom ~ DOM解析完成，开始加载内嵌资源。此时DOM可以访问与交互</td><td align="center">DOM树构建时长</td></tr><tr><td align="center">domContentLoadedEventEnd ~ loadEventStart</td><td align="center">Dom内容已经加载完成 ~ 当前文档执行后已经触发了load事件</td><td align="center">渲染DOM树结构的时长 - DOM渲染时长</td></tr><tr><td align="center">navigationStart ~ domLoading</td><td align="center">用户打开页面，或者上一个文档卸载结束，代表着新页面开始 ~ DOM解析器开始工作，解析DOM文档</td><td align="center">FPT（first paint time）首屏渲染时间，白屏时间</td></tr><tr><td align="center">navigationStart ~ domInteractive</td><td align="center">用户打开页面开始 ~ DOM元素可以被访问，交互</td><td align="center">TTI（time to Interactive）网页可交互时间</td></tr><tr><td align="center">fetchStart ~ domContentLoadedEventEnd</td><td align="center">浏览器准备好HTTP请求 ~ DOM内容加并渲染完毕</td><td align="center">html加载完成时间，DOM树加载并渲染完</td></tr><tr><td align="center">navigationStart ~ loadEventStart</td><td align="center">导航开始 ~ 浏览器文档触发load事件，此时文档已经加载完，浏览器触发load事件</td><td align="center">页面完全加载完成的时间</td></tr></tbody></table><p>原始定义
<a href="https://w3c.github.io/navigation-timing/#obsolete" target="_blank" rel="noopener noreferrer">https://w3c.github.io/navigation-timing/#obsolete</a></p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token maybe-class-name">Exposed</span><span class="token operator" style="color:#393A34">=</span><span class="token maybe-class-name">Window</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name">PerformanceTiming</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly attribute unsigned long long navigationStart</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly attribute unsigned long long unloadEventStart</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly attribute unsigned long long unloadEventEnd</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly attribute unsigned long long redirectStart</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly attribute unsigned long long redirectEnd</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly attribute unsigned long long fetchStart</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly attribute unsigned long long domainLookupStart</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly attribute unsigned long long domainLookupEnd</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly attribute unsigned long long connectStart</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly attribute unsigned long long connectEnd</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly attribute unsigned long long secureConnectionStart</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly attribute unsigned long long requestStart</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly attribute unsigned long long responseStart</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly attribute unsigned long long responseEnd</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly attribute unsigned long long domLoading</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly attribute unsigned long long domInteractive</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly attribute unsigned long long domContentLoadedEventStart</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly attribute unsigned long long domContentLoadedEventEnd</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly attribute unsigned long long domComplete</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly attribute unsigned long long loadEventStart</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly attribute unsigned long long loadEventEnd</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token maybe-class-name">Default</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> object </span><span class="token function" style="color:#d73a49">toJSON</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="performancememory">Performance.memory<a href="#performancememory" class="hash-link" aria-label="Performance.memory的直接链接" title="Performance.memory的直接链接">​</a></h3><p>获取内存数据</p><table><thead><tr><th align="center">属性</th><th align="center">含义</th></tr></thead><tbody><tr><td align="center">jsHeapSizeLimit</td><td align="center">一个数字，上下文内可用堆的最大体积，单位字节</td></tr><tr><td align="center">totalJSHeapSize</td><td align="center">一个数字，已经分配的堆体积，可以使用的内存，单位字节</td></tr><tr><td align="center">usedJSHeapSize</td><td align="center">一个数字，当前 JS 堆活跃段（segment）的体积，已经使用的内存，单位字节</td></tr></tbody></table><p>通常，usedJSHeapSize不能大于totalJSHeapSize，如果大于，有可能出现了内存泄漏。</p><p><strong>计算MB方法，n byte / 8 / 1024 / 1024 （1b = 8B，1024B = 1KB 1024KB = 1M）</strong></p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token dom variable" style="color:#36acaa">performance</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">memory</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 得到如下对象，单位byte</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">MemoryInfo</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">totalJSHeapSize</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">56528731</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">usedJSHeapSize</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">51076671</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">jsHeapSizeLimit</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4294705152</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>备注：此方法是属于Chrome的非标准属性，火狐和safari不支持</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="performancenavigation">Performance.navigation<a href="#performancenavigation" class="hash-link" aria-label="Performance.navigation的直接链接" title="Performance.navigation的直接链接">​</a></h3><p>navigation会返回一个PerformanceNavigation对象 该接口已经被PerformanceNavigationTiming永久替代，表示当前浏览上下文的一些参数，比如，获取某个资源的重定向次数
其中的两个属性在下方表格里</p><table><thead><tr><th align="center">属性</th><th align="center">含义</th></tr></thead><tbody><tr><td align="center">type</td><td align="center">number 枚举 <!-- -->[ <code>TYPE_RELOAD 0</code>, <code>TYPE_RELOAD 1</code>, <code>TYPE_BACK_FORWARD 2</code>, <code>TYPE_RESERVED 255</code> ]</td></tr><tr><td align="center">redirectCount</td><td align="center">number 重定向次数</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="performancetimeorigin">Performance.timeOrigin<a href="#performancetimeorigin" class="hash-link" aria-label="Performance.timeOrigin的直接链接" title="Performance.timeOrigin的直接链接">​</a></h3><p>返回一个文档加载的时间起始值，高精度的时间戳 (毫秒)</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token dom variable" style="color:#36acaa">performance</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">timeOrigin</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 输出 一个毫秒时间戳，代表着网页加载的起始时间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1689867063826.8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="方法">方法<a href="#方法" class="hash-link" aria-label="方法的直接链接" title="方法的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="performancenow">Performance.now()<a href="#performancenow" class="hash-link" aria-label="Performance.now()的直接链接" title="Performance.now()的直接链接">​</a></h3><p>number类型，返回一个高精度的毫秒时间戳，表示从performance.timeOrigin开始以来经过的时间
可能是如下的值：<code>133426.90000000596</code> 单位毫秒，与performance.timeOrigin 即可得到当前的UNIX毫秒时间戳</p><p>应用：可以使用performance.timeOrigin + performance.now()来代替Date.now()获取当前时间</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token dom variable" style="color:#36acaa">performance</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">timeOrigin</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">performance</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token known-class-name class-name">Date</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 得到如下结果</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1689951447000.5</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1689951447013</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">区别1：`performance.now()` 返回的时间戳精度高达微秒 （1ms = 1000μs）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">区别2：`Date.now()` 受到系统时间控制，如果更改后，Date.now()获取的时间可能会有“时光倒流”</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`performance.now()` 是网页被打开后的时间。总是单调递增的。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="performancegetentriesoptions">Performance.getEntries(options);<a href="#performancegetentriesoptions" class="hash-link" aria-label="Performance.getEntries(options);的直接链接" title="Performance.getEntries(options);的直接链接">​</a></h4><p>获取性能条目对象数组, 返回PerformanceEntry对象数组，数组成员按照PerformanceEntry.startTime 时间排序</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 获取所有条目</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">entries </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">performance</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getEntries</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="performancegetentriesbynamename-type">Performance.getEntriesByName(name, type?)<a href="#performancegetentriesbynamename-type" class="hash-link" aria-label="Performance.getEntriesByName(name, type?)的直接链接" title="Performance.getEntriesByName(name, type?)的直接链接">​</a></h3><p>根据name 和 entryType 获取 条目数组</p><p>entryType 可能的值有</p><ul><li><code>frame</code>  可以获得PerformanceFrameTiming对象</li><li><code>navigation</code>  可以获得PerformanceNavigationTiming对象</li><li><code>resource</code>  可以获得PerformanceResourceTiming对象</li><li><code>mark</code>  可以获得PerformanceMark对象</li><li><code>measure</code>  可以获得PerformanceMeasure对象</li><li><code>paint</code>  可以获得PerformancePaintTiming对象 (&#x27;first-paint&#x27; &#x27;first-contentful-paint&#x27;)</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="performancegetentriesbytypetype">Performance.getEntriesByType(type)<a href="#performancegetentriesbytypetype" class="hash-link" aria-label="Performance.getEntriesByType(type)的直接链接" title="Performance.getEntriesByType(type)的直接链接">​</a></h3><p>type 即上方的 entryType</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="performancemark">Performance.mark()<a href="#performancemark" class="hash-link" aria-label="Performance.mark()的直接链接" title="Performance.mark()的直接链接">​</a></h3><p>在浏览器的的性能时间线里创建一个高精度的时间戳标记</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> markPer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">performance</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">mark</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todo&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">detail</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;extra&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">startTime</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">performance</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 默认是now()</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// mark后返回值得到如下结果</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">PerformanceMark </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">detail</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 创建mark时传入的可选options.detail</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">duration</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 返回0，mark的duration属性无用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">entryType</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;mark&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 通过mark方法创建的entryType恒定为mark</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;todo&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">startTime</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1454467.1000000238</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 此条目创建时的起始时间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="performanceclearmark">Performance.clearMark()<a href="#performanceclearmark" class="hash-link" aria-label="Performance.clearMark()的直接链接" title="Performance.clearMark()的直接链接">​</a></h3><p>在浏览器的性能时间线中清除指定name的mark，或者清除全部mark</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 清除上面创建的mark，如果不传参数，则清除全部mark（entryType等于&#x27;mark&#x27;）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token dom variable" style="color:#36acaa">performance</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">clearMark</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todo&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="performancemeasure">Performance.measure()<a href="#performancemeasure" class="hash-link" aria-label="Performance.measure()的直接链接" title="Performance.measure()的直接链接">​</a></h3><p>measure()方法会创建一个PerformanceMeasure的对象，代表浏览器性能时间轴上两个标记之间的时间测量值</p><p>当测量两个mark之间时，分别有开始mark和结束mark</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">measure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">measureName</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">measure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">measureName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> startMarkName</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">measure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">measureName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> startMarkName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> endMarkName</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">measure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">measureName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">detail</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">htmlElement</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> myElement</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">id</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 可以对此measure传入一些额外的信息</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">start</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> myClickEvent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">timeStamp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 从一个dom事件获取到时间戳</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">end</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> myMarker</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">startTime</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">duration</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">XX</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 开始的mark和结束的mark之间的持续时间，如果省略，则为performance.now(),如果提供了duration，则必须提供start或者end的其中一个</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">measure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">measureName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> measureOptions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> endMarkName</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">此measure方法会在性能条目中创建一条entryType </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> measure的条目</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="performanceclearmeasures">Performance.clearMeasures()<a href="#performanceclearmeasures" class="hash-link" aria-label="Performance.clearMeasures()的直接链接" title="Performance.clearMeasures()的直接链接">​</a></h3><p>清除指定name的measure条目</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">clearMeasures</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 清除所有entryType 为measure的条目</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">clearMeasures</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;todo&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 清除 name 叫做todo的条目</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="performanceclearresourcetimings">Performance.clearResourceTimings<a href="#performanceclearresourcetimings" class="hash-link" aria-label="Performance.clearResourceTimings的直接链接" title="Performance.clearResourceTimings的直接链接">​</a></h3><p>清除所有entryType为resource的条目</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="performancesetresourcetimingbuffersize">Performance.setResourceTimingBufferSize()<a href="#performancesetresourcetimingbuffersize" class="hash-link" aria-label="Performance.setResourceTimingBufferSize()的直接链接" title="Performance.setResourceTimingBufferSize()的直接链接">​</a></h3><p>设置资源时间线缓冲区的存储的性能条目数目</p><p>正常来说，需要将这个size设置为250 或者更大</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 直接通过setResourceTimingBufferSize方法设置一个值小于当前条目中resource条目长度，不会真正的删除resource</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token dom variable" style="color:#36acaa">performance</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getEntriesByType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;resource&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token dom variable" style="color:#36acaa">performance</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setResourceTimingBufferSize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token dom variable" style="color:#36acaa">performance</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getEntriesByType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;resource&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 如果想要删除直接调用clear。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token dom variable" style="color:#36acaa">performance</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">clearResourceTimings</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token dom variable" style="color:#36acaa">performance</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getEntriesByType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;resource&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="performancemeasureuseragentspecificmemory">Performance.measureUserAgentSpecificMemory()<a href="#performancemeasureuseragentspecificmemory" class="hash-link" aria-label="Performance.measureUserAgentSpecificMemory()的直接链接" title="Performance.measureUserAgentSpecificMemory()的直接链接">​</a></h3><p>实验性的功能，用于估计WEB 应用程序的内存使用情况</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/web/intro"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">开始</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#属性" class="table-of-contents__link toc-highlight">属性</a><ul><li><a href="#performancetiming" class="table-of-contents__link toc-highlight">Performance.timing</a></li><li><a href="#performancememory" class="table-of-contents__link toc-highlight">Performance.memory</a></li><li><a href="#performancenavigation" class="table-of-contents__link toc-highlight">Performance.navigation</a></li><li><a href="#performancetimeorigin" class="table-of-contents__link toc-highlight">Performance.timeOrigin</a></li></ul></li><li><a href="#方法" class="table-of-contents__link toc-highlight">方法</a><ul><li><a href="#performancenow" class="table-of-contents__link toc-highlight">Performance.now()</a></li><li><a href="#performancegetentriesbynamename-type" class="table-of-contents__link toc-highlight">Performance.getEntriesByName(name, type?)</a></li><li><a href="#performancegetentriesbytypetype" class="table-of-contents__link toc-highlight">Performance.getEntriesByType(type)</a></li><li><a href="#performancemark" class="table-of-contents__link toc-highlight">Performance.mark()</a></li><li><a href="#performanceclearmark" class="table-of-contents__link toc-highlight">Performance.clearMark()</a></li><li><a href="#performancemeasure" class="table-of-contents__link toc-highlight">Performance.measure()</a></li><li><a href="#performanceclearmeasures" class="table-of-contents__link toc-highlight">Performance.clearMeasures()</a></li><li><a href="#performanceclearresourcetimings" class="table-of-contents__link toc-highlight">Performance.clearResourceTimings</a></li><li><a href="#performancesetresourcetimingbuffersize" class="table-of-contents__link toc-highlight">Performance.setResourceTimingBufferSize()</a></li><li><a href="#performancemeasureuseragentspecificmemory" class="table-of-contents__link toc-highlight">Performance.measureUserAgentSpecificMemory()</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"></div></footer></div>
<script src="/assets/js/runtime~main.b702d34a.js"></script>
<script src="/assets/js/main.b4920144.js"></script>
</body>
</html>